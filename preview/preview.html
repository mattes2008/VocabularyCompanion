<!DOCTYPE html>
<html>

<head>

	<script>let data = {

	activeUser: undefined,
	log: [],
	practising: {

		activeVoc: undefined,
		remaining: [],
		direction: "",
		result: [],

	},
	activePluginElements: [],
	plugins: {

		plugins: [],
		active: [],

	},
	version: 1.0,

}


document.addEventListener ("keyup", function (src) {

	if (src.key==="Escape") {
		document.getElementById("console").classList.toggle("hidden")
		reloadConsole()
		document.getElementById("consoleCommandLine").select()
	}

}, false)




function bodyOnLoad () {

	if (JSON.parse(localStorage.getItem("vocabularyCoach_userData"))===null) {
		document.getElementById("acceptLocalStorage").classList.remove("hidden");
	} else {
		acceptLocalStorage();
	}
	data.clockInterval = setInterval(function() {reloadClock()}, 1000);

}


function acceptLocalStorage () {

	document.getElementById("acceptLocalStorage").classList.add("hidden");
	data.userData = JSON.parse(localStorage.getItem("vocabularyCoach_userData"));


	if (data.userData===null) {
		data.userData = {};
	}
	localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));

	if (localStorage.getItem("vocabularyCoach_remainSignedIn")===null) {
		localStorage.setItem("vocabularyCoach_remainSignedIn", "empty")
	}

	if (localStorage.getItem("vocabularyCoach_plugins")===null) {
		localStorage.setItem("vocabularyCoach_plugins", JSON.stringify([]))
		data.plugins.plugins = []
	} else {
		data.plugins.plugins = JSON.parse(localStorage.getItem("vocabularyCoach_plugins"))
	}



	if (localStorage.getItem("vocabularyCoach_mainKey")===null) {
		localStorage.setItem("vocabularyCoach_mainKey", letterKey.createKey());
	}
	document.getElementById('startPractisingSrcToTar').checked = true;

	if (localStorage.getItem("vocabularyCoach_remainSignedIn")!=="empty") {
		signIn(JSON.parse(localStorage.getItem("vocabularyCoach_remainSignedIn")), letterKey.decrypt(data.userData[JSON.parse(localStorage.getItem("vocabularyCoach_remainSignedIn"))].password, localStorage.getItem("vocabularyCoach_mainKey")));
	}

	for (let i=0; i<data.plugins.plugins.length; i++) {

		let tempLoad = open.element.create("script", document.head);
		tempLoad.src = data.plugins.plugins[i];
		data.plugins.active.push(tempLoad);

	}

}




function signIn (username, password) {

	if (data.userData[username]!==undefined) {
		if (letterKey.decrypt(data.userData[username].password, localStorage.getItem("vocabularyCoach_mainKey"))===password) {
			data.activeUser = username;
			document.getElementById("login").classList.add("hidden");
			document.getElementById("main").classList.remove("hidden");
			reloadOverviewTable();
			style.change(data.userData[data.activeUser].style);

			if (document.getElementById("remainSignedIn").checked===true) {
				localStorage.setItem("vocabularyCoach_remainSignedIn", JSON.stringify(username));
			}

		}
	}

}


function signUp (username, password, repeated) {

	if (data.userData[username]==undefined) {
		if (password===repeated) {
			data.userData[username] = {

				userKey: letterKey.createKey(),
				password: letterKey.encrypt(password, localStorage.getItem("vocabularyCoach_mainKey")),
				style: "dark",
				version: data.version,
				vocabUnits: [],
				statistics: {

					totalStars: 0,
					percent: 0,
					tries: 0,
					perfectTries: 0,

				},

			}

			localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
			alert("Your account has been created");
			cancelSignUp();
			signIn(username, password);

		} else {
			alert("Your account hasn't been created: Something went wrong");
		}
	} else {
		alert("Your account hasn't been created: The account " + username + " already exists");
	}


}


function cancelSignUp () {

	document.getElementById("createAccount").classList.add("hidden");

}




function reloadOverviewTable () {

	document.getElementById("overviewTable").innerHTML = "";
	data.overviewTable = new OverviewTable(data.userData[data.activeUser].vocabUnits, "&nbsp;&nbsp;&nbsp;&nbsp;Units", document.getElementById("overviewTable"), function(src) {readUnit(src); document.getElementById('unitDisplayTitle').value = data.userData[data.activeUser].vocabUnits[data.activeUnit].title; document.getElementById('unitDisplaySource').value = data.userData[data.activeUser].vocabUnits[data.activeUnit].sourceLanguage; document.getElementById('unitDisplayTarget').value = data.userData[data.activeUser].vocabUnits[data.activeUnit].targetLanguage;})
	let temp = open.element.create("div", data.overviewTable.table);
	temp.style = "text-align: right; font-weight: bold; font-size: 30px;";
	temp.innerHTML = "+&nbsp;&nbsp;";
	temp.addEventListener("click", function(){document.getElementById('mainCreateUnitTitle').value = ''; document.getElementById('mainCreateUnitLanguage1').value = ''; document.getElementById('mainCreateUnitLanguage2').value = ''; document.getElementById('mainCreateUnit').classList.remove('hidden');});

}




function createUnit (title, firstLanguage, secondLanguage) {

	 if (data.userData[data.activeUser].vocabUnits.length===0) {

		data.userData[data.activeUser].vocabUnits.push({

			title: title,
			sourceLanguage: firstLanguage,
			targetLanguage: secondLanguage,
			vocabList: [],
			statistics: {

				percent: 0,
				tries: 0,
				perfectTries: 0,

			}

		})
		alert("Your unit has been created.")
		document.getElementById("mainCreateUnit").classList.add("hidden");
		reloadOverviewTable();
		localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));

	} else {
		for (let i=0; i<data.userData[data.activeUser].vocabUnits.length; i++) {

			if (data.userData[data.activeUser].vocabUnits[i].title===title) {
				alert("Your unit hasn't been created: Unit " + title + " already exists.")
				break
			} else if (i===data.userData[data.activeUser].vocabUnits.length-1) {

				data.userData[data.activeUser].vocabUnits.push({

					title: title,
					sourceLanguage: firstLanguage,
					targetLanguage: secondLanguage,
					vocabList: [],

				})
				alert("Your unit has been created.")
				document.getElementById("mainCreateUnit").classList.add("hidden");
				reloadOverviewTable();
				localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
				break


			}

		}
	}

}


function cancelCreateUnit () {

	document.getElementById("mainCreateUnit").classList.add("hidden");

}




function readUnit (title) {

	document.getElementById("unitDisplay").classList.remove("hidden");
	document.getElementById("main").classList.add("hidden");

	for (let i=0;i<data.userData[data.activeUser].vocabUnits.length; i++) {

		if (data.userData[data.activeUser].vocabUnits[i].title===title) {
			data.activeUnit = i;
			break
		}

	}

	reloadVocabTable();

}


function reloadVocabTable () {

	document.getElementById("unitDisplayVocabTable").innerHTML = ""
	data.vocabTable = new Table(document.getElementById("unitDisplayVocabTable"), 0, 2)
	data.vocabTable.table.style = "margin-left: 82.5px;";

	if (data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length===0) {
		data.vocabTable.insertRow(1);
		data.vocabTable.editCell("innerHTML", "[empty]", 0, 0);
	} else {

		for (let i=0; i<data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length; i++) {

			data.vocabTable.insertRow(1);

			data.vocabTable.editCell("innerHTML", data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[i].source, i, 0);
			data.vocabTable.editCell("innerHTML", data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[i].target, i, 1);

			data.vocabTable.rows[i].addEventListener("click", function() {document.getElementById("readUnitEditVocab").classList.remove("hidden"); document.getElementById("readUnitEditVocabSource").value = data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[i].source; document.getElementById("readUnitEditVocabTarget").value = data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[i].target; data.activeVocab = i;})

		}

	}

	document.getElementById("unitStatisticPercentDisplay").innerHTML = "&oslash;&nbsp;Success Ratio:&nbsp;&nbsp;&nbsp;" + data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.percent + "&percnt;";
	document.getElementById("unitStatisticTriesDisplay").innerHTML = "&star;&nbsp;Tries:&nbsp;&nbsp;&nbsp;" + data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.tries
	document.getElementById("unitStatisticPerfectTriesDisplay").innerHTML = "&starf;&nbsp;Perfect Tries:&nbsp;&nbsp;&nbsp;" + data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.perfectTries

}


function deleteUnit () {

	data.userData[data.activeUser].vocabUnits.splice(data.activeUnit, 1);
	localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
	cancelReadUnit();

}


function cancelReadUnit () {

	document.getElementById("unitDisplay").classList.add("hidden");
	document.getElementById("main").classList.remove("hidden");
	data.activeUnit = undefined;
	reloadOverviewTable();

}




function createVocab () {

	data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.push({

		source: document.getElementById("readUnitCreateVocabSource").value,
		target: document.getElementById("readUnitCreateVocabTarget").value,

	})
	localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
	cancelCreateVocab();

}


function cancelCreateVocab () {

	document.getElementById("readUnitCreateVocab").classList.add("hidden");
	reloadVocabTable();

}




function editVocab () {

	data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.activeVocab].source = document.getElementById("readUnitEditVocabSource").value;
	data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.activeVocab].target = document.getElementById("readUnitEditVocabTarget").value;
	localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
	cancelEditVocab();

}


function cancelEditVocab () {

	document.getElementById("readUnitEditVocab").classList.add("hidden");
	data.activeVocab = undefined;
	reloadVocabTable();

}


function editVocabDelete () {

	data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.splice(data.activeVocab, 1);
	localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
	cancelEditVocab();

}




function cancelPractising () {

	document.getElementById("startPractising").classList.add("hidden");

}


function startPractising () {

	data.practising.activeVoc = undefined
	data.practising.activeVocab = undefined
	data.practising.direction = ""
	data.practising.remaining = []
	data.practising.result = []
	data.practising.roundedPercent = undefined

	if (document.getElementById("startPractisingSrcToTar").checked) {
		data.practising.direction = "srcToTar";
	} else if (document.getElementById("startPractisingTarToSrc").checked) {
		data.practising.direction = "tarToSrc";
	}

	for (let i=0; i<data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length; i++) {

		data.practising.remaining.push(i);

		if (i===data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length-1) {
			document.getElementById("unitDisplay").classList.add("hidden");
			document.getElementById("practise").classList.remove("hidden");
			cancelPractising();
			nextTask();
		}

	}

}




function nextTask () {

	data.practising.activeVocab = Math.round(Math.random() * (data.practising.remaining.length-1));

	if (data.practising.direction==="srcToTar") {
		document.getElementById("practiseSourceVocab").innerHTML = data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.practising.remaining[data.practising.activeVocab]].source;
	} else if (data.practising.direction==="tarToSrc") {
		document.getElementById("practiseSourceVocab").innerHTML = data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.practising.remaining[data.practising.activeVocab]].target;
	}

	document.getElementById("practiseInput").value = "";
	document.getElementById("practiseInput").select();

	document.getElementById("practiseOutput").innerHTML = "Type in your answer!"
	document.getElementById("practiseOutput").classList.remove("greenDisplay");
	document.getElementById("practiseOutput").classList.remove("redDisplay");
	document.getElementById("practisingConfirm").style = "background-color: green;";
	document.getElementById("practisingConfirm").onclick = function() {practisingConfirm();};
	document.getElementById("practisingProgress").innerHTML = "Progress: " + (data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length-data.practising.remaining.length) + " / " + data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length;

}


function practisingConfirm () {

	if (data.practising.direction==="srcToTar") {
		if (document.getElementById("practiseInput").value===data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.practising.remaining[data.practising.activeVocab]].target) {
			document.getElementById("practiseOutput").innerHTML = "&check;&nbsp;&nbsp; - &nbsp;&nbsp;Great! You're right."
			document.getElementById("practiseOutput").classList.add("greenDisplay");
			data.practising.remaining.splice(data.practising.activeVocab, 1);
			data.practising.result.push(true);
			document.getElementById("practisingConfirm").style = "background-color: #777777;";
			document.getElementById("practisingConfirm").onclick = "";
			if (data.practising.remaining.length===0) {
				prepareResult();
			}
		} else {
			document.getElementById("practiseOutput").innerHTML = "&times;&nbsp;&nbsp; - &nbsp;&nbsp;Sorry! There's a mistake. The right word was <b>" + data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.practising.remaining[data.practising.activeVocab]].target + "</b>."
			document.getElementById("practiseOutput").classList.add("redDisplay");
			data.practising.result.push(false);
			document.getElementById("practisingConfirm").style = "background-color: #777777;";
			document.getElementById("practisingConfirm").onclick = "";
		}
	} else if (data.practising.direction==="tarToSrc") {
		if (document.getElementById("practiseInput").value===data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.practising.remaining[data.practising.activeVocab]].source) {
			document.getElementById("practiseOutput").innerHTML = "&check;&nbsp;&nbsp; - &nbsp;&nbsp;Great! You're right."
			document.getElementById("practiseOutput").classList.add("greenDisplay");
			data.practising.remaining.splice(data.practising.activeVocab, 1);
			data.practising.result.push(true);
			document.getElementById("practisingConfirm").style = "background-color: #777777;";
			document.getElementById("practisingConfirm").onclick = "";
			if (data.practising.remaining.length===0) {
				prepareResult();
			}
		} else {
			document.getElementById("practiseOutput").innerHTML = "&times;&nbsp;&nbsp; - &nbsp;&nbsp;Sorry! There's a mistake. The right word was <b>" + data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList[data.practising.remaining[data.practising.activeVocab]].source + "</b>."
			document.getElementById("practiseOutput").classList.add("redDisplay");
			data.practising.result.push(false);
			document.getElementById("practisingConfirm").style = "background-color: #777777;";
			document.getElementById("practisingConfirm").onclick = "";
		}
	}



}


function prepareResult () {

	document.getElementById("practisingResult").classList.remove("hidden");
	let percent
	let roundedPercent
	let tr = 0

	for (let i=0; i<data.practising.result.length; i++) {

		if (data.practising.result[i]) {
			tr++
		}

	}

	document.getElementById("practisingProgress").innerHTML = "Progress: " + (data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length-data.practising.remaining.length) + " / " + data.userData[data.activeUser].vocabUnits[data.activeUnit].vocabList.length;
	percent = tr/data.practising.result.length;
	percent *= 10000;
	percent = Math.round(percent);
	percent = percent/100;
	document.getElementById("percentDisplay").innerHTML = percent + "&percnt;";
	roundedPercent = Math.round(percent);
	data.practising.roundedPercent = roundedPercent

	document.getElementById("percentRangeDisplay").value = roundedPercent;

	if (roundedPercent<20) {
		document.getElementById("starDisplay").innerHTML = "&starf;&star;&star;&star;&star;"
		document.getElementById("6thStarDisplay").innerHTML = ""
		data.userData[data.activeUser].statistics.totalStars += 1
	} else if (roundedPercent<40) {
		document.getElementById("starDisplay").innerHTML = "&starf;&starf;&star;&star;&star;"
		document.getElementById("6thStarDisplay").innerHTML = ""
		data.userData[data.activeUser].statistics.totalStars += 2
	} else if (roundedPercent<60) {
		document.getElementById("starDisplay").innerHTML = "&starf;&starf;&starf;&star;&star;"
		document.getElementById("6thStarDisplay").innerHTML = ""
		data.userData[data.activeUser].statistics.totalStars += 3
	} else if (roundedPercent<80) {
		document.getElementById("starDisplay").innerHTML = "&starf;&starf;&starf;&starf;&star;"
		document.getElementById("6thStarDisplay").innerHTML = ""
		data.userData[data.activeUser].statistics.totalStars += 4
	} else if (roundedPercent<100) {
		document.getElementById("starDisplay").innerHTML = "&starf;&starf;&starf;&starf;&starf;"
		document.getElementById("6thStarDisplay").innerHTML = ""
		data.userData[data.activeUser].statistics.totalStars += 5
	} else if (roundedPercent>=100) {
		document.getElementById("starDisplay").innerHTML = "&starf;&starf;&starf;&starf;&starf;"
		document.getElementById("6thStarDisplay").innerHTML = "&starf;"
		data.userData[data.activeUser].statistics.totalStars += 6
		data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.perfectTries++
		data.userData[data.activeUser].statistics.perfectTries++
	}

	data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.tries++;
	data.userData[data.activeUser].statistics.tries++;

	let temp = data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.percent + percent
	data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.percent = temp
	if (data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.tries>1) {
		data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.percent = temp / 2;
	}

	let temp2 = data.userData[data.activeUser].statistics.percent + percent
	data.userData[data.activeUser].statistics.percent = temp2
	if (data.userData[data.activeUser].statistics.tries>1) {
		data.userData[data.activeUser].statistics.percent = temp2 / 2;
	}

	let temp3 = data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.percent*100
	temp3 = Math.round(temp3);
	data.userData[data.activeUser].vocabUnits[data.activeUnit].statistics.percent = temp3 / 100

	localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));

}


function stopPractising () {

	document.getElementById("practisingResult").classList.add("hidden");
	document.getElementById("practise").classList.add("hidden");
	document.getElementById("unitDisplay").classList.remove("hidden");
	reloadVocabTable();

}




function exportUnit () {

	document.getElementById("readUnitExport").classList.remove("hidden");
	document.getElementById("exportText").value = JSON.stringify(data.userData[data.activeUser].vocabUnits[data.activeUnit]);

}


function cancelExportUnit () {

	document.getElementById("readUnitExport").classList.add("hidden");

}


function importUnit () {

	let temp = JSON.parse(document.getElementById("importText").value)
	createUnit(temp.title, temp.sourceLanguage, temp.targetLanguage)

	for (let i=0; i<data.userData[data.activeUser].vocabUnits.length; i++) {

		if (data.userData[data.activeUser].vocabUnits[i].title===temp.title) {
			data.userData[data.activeUser].vocabUnits[i].vocabList = temp.vocabList;
			data.userData[data.activeUser].vocabUnits[i].statistics = temp.statistics;
		}

	}

}




function openAccountSettings () {

	if (data.activeUser!==undefined) {

		document.getElementById("login").classList.add("hidden");
		document.getElementById("main").classList.add("hidden");
		document.getElementById("unitDisplay").classList.add("hidden");
		document.getElementById("practise").classList.add("hidden");
		document.getElementById("accountSettings").classList.remove("hidden");

		let temp = data.userData[data.activeUser].statistics.percent * 100;
		temp = Math.round(temp);
		temp = temp/100

		document.getElementById("userStatisticTotalStarsDisplay").innerHTML = "&starf;&nbsp;Total Stars:&nbsp;&nbsp;&nbsp;" + data.userData[data.activeUser].statistics.totalStars;
		document.getElementById("userStatisticPercentDisplay").innerHTML = "&oslash;&nbsp;Success Ratio:&nbsp;&nbsp;&nbsp;" + temp + "&percnt;";
		document.getElementById("userStatisticTriesDisplay").innerHTML = "&star;&nbsp;Tries:&nbsp;&nbsp;&nbsp;" + data.userData[data.activeUser].statistics.tries;
		document.getElementById("userStatisticPerfectTriesDisplay").innerHTML = "&starf;&nbsp;Perfect Tries:&nbsp;&nbsp;&nbsp;" + data.userData[data.activeUser].statistics.perfectTries;
		document.getElementById("styleSelect").value = data.userData[data.activeUser].style;
		document.getElementById("accountSettingsRenameUser").value = data.activeUser;

	}

}


function accountSettingsRenameUser () {

	let temp = document.getElementById("accountSettingsRenameUser").value;

	if (data.userData[temp]==undefined) {

		data.userData[temp] = data.userData[data.activeUser];
		data.userData[data.activeUser] = undefined
		data.activeUser = temp;
		openAccountSettings();
		localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
		alert("Your account has been renamed.");

	} else {
		alert("The account " + temp + " already exists.");
		document.getElementById("accountSettingsRenameUser").value = data.activeUser;
	}

}


function exportUser () {

	document.getElementById("userExport").classList.remove("hidden");
	document.getElementById("exportUserText").value = JSON.stringify(data.userData[data.activeUser]);

}


function accountSettingsChangePassword () {

	let temp = letterKey.decrypt(data.userData[data.activeUser].password, localStorage.getItem("vocabularyCoach_mainKey"))

	if (document.getElementById("changePasswordRepeatOld").value===document.getElementById("changePasswordOld").value && document.getElementById("changePasswordOld").value===temp) {
		data.userData[data.activeUser].password = letterKey.encrypt(document.getElementById("changePasswordNew").value, localStorage.getItem("vocabularyCoach_mainKey"))
		alert("Your password have been changed.");
		document.getElementById("accountSettingsChangePassword").classList.add("hidden");
		localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
	} else {
		alert("Something went wrong.");
	}

}


function openChangePassword () {

	document.getElementById("changePasswordNew").value = "";
	document.getElementById("changePasswordOld").value = "";
	document.getElementById("changePasswordRepeatOld").value = "";
	document.getElementById("accountSettingsChangePassword").classList.remove("hidden");

}


function deleteUser () {

	if (document.getElementById("deleteUserPasswordInput").value===document.getElementById("deleteUserRepeatPasswordInput").value && document.getElementById("deleteUserPasswordInput").value===letterKey.decrypt(data.userData[data.activeUser].password, localStorage.getItem("vocabularyCoach_mainKey"))) {

		data.userData[data.activeUser] = undefined;
		localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
		alert("Your account " + data.activeUser + " has been deleted.")
		document.getElementById('deleteUser').classList.add('hidden');
		logOut();

	} else {
		alert("Something went wrong.")
	}

}




function logOut () {

	data.activeUser = undefined;
	document.getElementById("login").classList.remove("hidden");
	document.getElementById("main").classList.add("hidden");
	document.getElementById("unitDisplay").classList.add("hidden");
	document.getElementById("practise").classList.add("hidden");
	document.getElementById("accountSettings").classList.add("hidden");
	document.getElementById("loginUsername").value = "";
	document.getElementById("loginPassword").value = "";
	localStorage.setItem("vocabularyCoach_remainSignedIn", "empty");
	document.getElementById("remainSignedIn").checked = false;
	style.change("dark");

}




function importUser () {

	let temp = JSON.parse(document.getElementById("userImportText").value)
	let tempPW = letterKey.decrypt(temp.password, localStorage.getItem("vocabularyCoach_mainKey"))
	signUp(document.getElementById("userImportName").value, tempPW, tempPW);
	data.userData[document.getElementById("userImportName").value].userKey = temp.userKey;
	data.userData[document.getElementById("userImportName").value].statistics = temp.statistics;
	data.userData[document.getElementById("userImportName").value].vocabUnits = temp.vocabUnits;
	document.getElementById("userImport").classList.add("hidden");
	reloadOverviewTable()

}




function reloadConsole () {

	for (let i=0; i<9; i++) {

		if (data.log[i]!==undefined) {
			document.getElementById("logLine" + i).innerHTML = data.log[i]
		}

	}

}


function consoleSend (evt) {

	if (evt.key==="Enter") {

		let conTemp = document.getElementById("consoleCommandLine").value;
		let conOut = eval(conTemp);

		data.log.unshift(">> " + " " + conOut);
		document.getElementById("consoleCommandLine").value = "";
		reloadConsole();

	}

}




function showSidebar () {

	if (data.activeUser!==undefined) {
		document.getElementById("sidebarLogOut").classList.remove("hidden")
	} else {
		document.getElementById("sidebarLogOut").classList.add("hidden")
	}
	document.getElementById("sidebar").classList.remove("hidden");

}




function reloadPluginTable () {

	document.getElementById("pluginMenu").classList.remove("hidden");
	document.getElementById("login").classList.add("hidden");
	document.getElementById("main").classList.add("hidden");
	document.getElementById("unitDisplay").classList.add("hidden");
	document.getElementById("practise").classList.add("hidden");
	document.getElementById("accountSettings").classList.add("hidden");
	document.getElementById("pluginOverviewTable").innerHTML = "";
	temp2 = new OverviewTablePlugin(data.plugins.plugins, "&nbsp;&nbsp;&nbsp;&nbsp;Plugins", document.getElementById("pluginOverviewTable"), function(src) {alert(src)})
	let temp = open.element.create("div", temp2.table);
	temp.style = "text-align: right; font-weight: bold; font-size: 30px;";
	temp.innerHTML = "+&nbsp;&nbsp;";
	temp.addEventListener("click", function(){document.getElementById('addPlugin').classList.remove('hidden'); document.getElementById('addPluginSrc').value = "";});


}


function closePluginMenu () {

	if (data.activeUser!==undefined) {
		document.getElementById("login").classList.add("hidden");
		document.getElementById("main").classList.remove("hidden");
		document.getElementById("unitDisplay").classList.add("hidden");
		document.getElementById("practise").classList.add("hidden");
		document.getElementById("accountSettings").classList.add("hidden");
		document.getElementById("pluginMenu").classList.add("hidden");
	} else {
		logOut();
		document.getElementById("pluginMenu").classList.add("hidden");
	}

}




let style = {

	change: function(theme) {

		if (theme==="dark") {
			document.getElementById("style_dark").href = "css/style.css";
			document.getElementById("title_image").src = "storage/vocabularyCompanionRendering.png";
			document.getElementById("accountIconMain").style.backgroundImage = "url('storage/menuIcon.png')";
		} else if (theme==="light") {
			document.getElementById("style_dark").href = "";
			document.getElementById("title_image").src = "storage/readmeImage.png";
			document.getElementById("accountIconMain").style.backgroundImage = "url('storage/menuIcon_white.png')";
		}

	},
	settingsChange: function(theme) {

		if (data.activeUser!==undefined) {
			style.change(theme);
			data.userData[data.activeUser].style = theme;
			localStorage.setItem("vocabularyCoach_userData", JSON.stringify(data.userData));
		}

	},

}




function styleSettingsChange (src) {
	style.settingsChange(src);
}


function reloadClock () {

	let clockTime = new Date;
	const weekDays = ["Sunday", "Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday"];
	const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];

	let timeKeys = {

		hou: clockTime.getHours(),
		min: clockTime.getMinutes(),
		day: clockTime.getDay(),
		date: clockTime.getDate(),
		mon: clockTime.getMonth(),
		year: clockTime.getFullYear(),

	};

	timeKeys.day = weekDays[timeKeys.day];
	timeKeys.mon = months[timeKeys.mon];

	if (timeKeys.hou<10) {
		timeKeys.hou = "0" + String(timeKeys.hou);
	}
	if (timeKeys.min<10) {
		timeKeys.min = "0" + String(timeKeys.min);
	}
	document.getElementById("clock").innerHTML = timeKeys.hou + ":" + timeKeys.min;
	document.getElementById("sidebarDate").innerHTML = timeKeys.day + ", " + timeKeys.mon + " " + timeKeys.date + ", " + timeKeys.year;

}


let terminal = {

	close: function() {

		document.getElementById("console").classList.add("hidden");
		return "console has been closed";

	},
	clear: function() {

		data.log = [];
		reloadConsole();
		return "";

	},

}</script>
	<script>let open = {

	element: {

		create: function(type, dest) {

			let newElement = document.createElement(type);
			dest.appendChild(newElement);
			return newElement;

		},
		remove: function(element) {

			element.remove();
			return element;

		},
		read: function(element) {

			return element;

		},
		edit: function(element, attribute, value) {

			element[attribute] = value;
			return element;

		},
		show: function(element) {

			element.classList.remove("hidden");
			return element;

		},
		hide: function(element) {

			element.classList.add("hidden");
			return element;

		},

	},
	array: {

		run: function(array, func) {

			for (let i=0; i<array.length; i++) {

				func(array[i]);

			}

		},

	},
	stylesheet: function() {

		let a = open.element.create("style", document.head);
		a.innerHTML = ".hidden {visibility: hidden; display: none;}";

	}

}




open.stylesheet()




class AjaxCall {

	constructor(url) {

		this.url = url;
		this.response = undefined;
		this.call = function() {

			let _this = this;
			let xhttp = new XMLHttpRequest();

			xhttp.onreadystatechange = function() {

				if (this.readyState==4 && this.status==200) {
					_this.response = JSON.parse(this.responseText);
				}

			}

			xhttp.open("GET", _this.url, true);
			xhttp.send();

		}
		this.call();

	}

}




class Link {

	constructor(url) {

		this.url = url;
		let _this = this;
		this.open = {

			thisTab: function() {

				location.href = _this.url;

			},
			newTab: function() {

				window.open(_this.url);

			},

		}

	}

}</script>
	<script>let openUI = {

	createElement: function(type, dest) {

		let a = document.createElement(type);
		dest.appendChild(a);
		return a;

	},
	stylesheet: function() {

		let a = openUI.createElement("style", document.head);
		a.innerHTML = ".hidden {visibility: hidden; display: none;}";

	},

}




openUI.stylesheet();




class EditableElement {

	constructor(type, dest, index) {

		this.container = openUI.createElement("div", dest);
		this.element = openUI.createElement(type, this.container);
		this.element.innerHTML = index;
		let over_this = this;
		this.element.addEventListener("click", function() {

			over_this.input = openUI.createElement("input", over_this.container);
			let _this = over_this;
			_this.element.classList.add("hidden");
			_this.input.value = _this.element.innerHTML;
			_this.input.addEventListener("keyup", function(src) {

				if (src.key==="Enter") {

					_this.element.innerHTML = _this.input.value;
					_this.input.remove();
					_this.element.classList.remove("hidden");

				}

			}, false);

		});

	}

}




class CommandLine {

	constructor(dest, infinitive) {

		this.log = [];
		this.input = openUI.createElement("input", dest);
		let _this = this;
		this.input.addEventListener("keyup", function(src) {

			if (src.key==="Enter") {

				let result = eval(_this.input.value);
				_this.input.value = "";

				if (infinitive) {
					_this.log.push(result);
					return result;
				} else {
					_this.log = result;
					_this.input.remove();
					return result;
				}

			}

		}, false);


	}

}




class Table {

	constructor (dest, rows, columns) {

		this.table = openUI.createElement("table", dest);
		this.column = columns;
		this.data = [];
		this.rows = [];
		this.insertRow = function(rows) {

			for (let i=0; i<rows; i++) {

				let newRow = openUI.createElement("tr", this.table);
				this.rows.push(newRow);
				this.data.push([]);

				for (let i2=0; i2<this.column; i2++) {

					let newColumn = openUI.createElement("td", newRow);
					this.data[this.data.length-1].push(newColumn);

				}

			}

		}
		this.insertColumn = function(columns) {

			for (let i=0; i<columns; i++) {

				this.column++;

				for (let i2=0; i2<this.rows.length; i2++) {

					let newColumn = openUI.createElement("td", this.rows[i2]);
					this.data[i2].push(newColumn);

				}

			}

		}
		this.editCell = function(attribute, value, row, column) {

			this.data[row][column][attribute] = value;

		}
		this.insertRow(rows);

	}

}




class OverviewTable {

	constructor(array, title, dest, func) {

		this.array = array;
		this.func = func;
		this.dest = dest;
		this.title = title;
		this.table = undefined;
		this.reload = function() {

			if (this.table!==undefined) {
				this.table.remove();
			}

			let _this = this;
			_this.table = openUI.createElement("div", _this.dest);
			_this.table.classList.add("overviewTable");
			let newTitle = openUI.createElement("h2", _this.table);
			newTitle.innerHTML = _this.title;
			let newContainer = openUI.createElement("div", _this.table);

			if (_this.array.length===0) {
				let newIndex = openUI.createElement("div", newContainer);
				let newIndexIndex = openUI.createElement("h3", newIndex);
				newIndexIndex.innerHTML = "[empty]";
				newIndex.classList.add("overviewTableIndex");
			} else {
				for (let i=0; i<_this.array.length; i++) {

					let newIndex = openUI.createElement("div", newContainer);
					let newIndexIndex = openUI.createElement("h3", newIndex);
					newIndexIndex.innerHTML = _this.array[i].title;
					newIndex.classList.add("overviewTableIndex");
					newIndex.onclick = function() {
						_this.func(newIndexIndex.innerHTML);
					}

				}
			}

		}
		this.reload();

	}

}</script>
	<script>plugin = {

	add: function(src) {

		src = "./plugins/" + src

		data.plugins.plugins.push(src);
		localStorage.setItem("vocabularyCoach_plugins", JSON.stringify(data.plugins.plugins))
		let tempPlugAdd = open.element.create("script", document.head);
		tempPlugAdd.src = src;
		data.plugins.active.push(tempPlugAdd);
		return "plugin added"

	},
	remove: function(src) {

		src = "./plugins/" + src

		for (let i=0; i<data.plugins.plugins.length; i++) {

			if (data.plugins.plugins[i]===src) {

				data.plugins.plugins.splice(i, 1);
				localStorage.setItem("vocabularyCoach_plugins", JSON.stringify(data.plugins.plugins));

				for (let i2=0; i2<data.plugins.active.length; i2++) {

					data.plugins.active[i2].remove()

					if (i2===data.plugins.active.length-1) {

						data.plugins.active = [];

						if (data.plugins.plugins.length===0) {
							return "removed plugin"
						} else {

							for (let i3=0; i3<data.plugins.plugins.length; i3++) {

								let tempLoad = open.element.create("script", document.head);
								tempLoad.src = data.plugins.plugins[i3];
								data.plugins.active.push(tempLoad);

								if (i3===data.plugins.plugins.length-1) {
									return "removed plugin"
								}

							}

						}

					}

				}

			}

		}

	},
	list: function() {

			return data.plugins.plugins

	}

}


class OverviewTablePlugin {

	constructor(array, title, dest, func) {

		this.array = array;
		this.func = func;
		this.dest = dest;
		this.title = title;
		this.table = undefined;
		this.reload = function() {

			if (this.table!==undefined) {
				this.table.remove();
			}

			let _this = this;
			_this.table = openUI.createElement("div", _this.dest);
			_this.table.classList.add("overviewTable");
			let newTitle = openUI.createElement("h2", _this.table);
			newTitle.innerHTML = _this.title;
			let newContainer = openUI.createElement("div", _this.table);

			if (_this.array.length===0) {
				let newIndex = openUI.createElement("div", newContainer);
				let newIndexIndex = openUI.createElement("h3", newIndex);
				newIndexIndex.innerHTML = "[empty]";
				newIndex.classList.add("overviewTableIndex");
			} else {
				for (let i=0; i<_this.array.length; i++) {

					let newIndex = openUI.createElement("div", newContainer);
					let newIndexIndex = openUI.createElement("h3", newIndex);
					newIndexIndex.innerHTML = _this.array[i];
					newIndex.classList.add("overviewTableIndex");
					newIndex.onclick = function() {
						_this.func(newIndexIndex.innerHTML);
					}

				}
			}

		}
		this.reload();

	}

}</script>
	<script>let letterKey = {

	createKey: function() {

		let letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", " "];
		let keyLetters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", " "];
		let key = {};

		for (let i=0; i<letters.length; i++) {

			let value = Math.round(Math.random() * (keyLetters.length-1));
			key[letters[i]] = keyLetters[value];
			keyLetters.splice(value, 1);

			if (i===letters.length-1) {
				key = JSON.stringify(key);
				return key;
			}

		}

	},
	encrypt: function(text, key) {

		text = text.split("");
		let result = "";
		key = JSON.parse(key);
		let letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", " "];

		for (let i=0; i<text.length; i++) {

			result += key[text[i]];

			if (i===text.length-1) {
				return result;
			}

		}

	},
	decrypt: function(text, key) {

		key = JSON.parse(key);
		text = text.split("");
		let result = "";
		let antiKey = {};
		let letters = ["a", "b", "c", "d", "e", "f", "g", "h", "i", "j", "k", "l", "m", "n", "o", "p", "q", "r", "s", "t", "u", "v", "w", "x", "y", "z", "A", "B", "C", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "Q", "R", "S", "T", "U", "V", "W", "X", "Y", "Z", "0", "1", "2", "3", "4", "5", "6", "7", "8", "9", " "];

		for (let i=0; i<letters.length; i++) {

			antiKey[key[letters[i]]] = letters[i];

			if (i===letters.length-1) {

				for (let i2=0; i2<text.length; i2++) {

					result += antiKey[text[i2]]

					if (i2===text.length-1) {
						return result;
					}

				}
			}

		}

	}
}</script>
	<style>body {

    background-color: white;
    font-family: "Arial";
    text-align: center;
    color: black;
    width: 1665px;

}


.popupWindow {

	width: 1400px;
	height: 700px;
	position: fixed;
	top: 100px;
	left: 132.5px;
	background-color: #CCCCCC;
	opacity: 95%;

}




input, select, button {

	width: 500px;
	height: 30px;
	background-color: white;
	color: black;
	border: thin solid #CCCCCC;
	font-family: "Arial";
	padding-left: 5px;

}


button {

	background-color: blue;
	color: white;

}


.hidden {

	visibility: hidden;
	display: none;

}


.overviewTable {

	background-color: blue;
	color: white;
	text-align: left;
	border: thin solid blue;
	margin-left: 82.5px;
	width: 1500px;

}


.overviewTableIndex {

	background-color: white;
	color: black;
	text-align: left;
	border: thin solid #CCCCCC;
	padding-left: 1em;

}


td {

	width: 750px;
	border: thin solid black;
	height: 50px;
	background-color: #CCCCCC;
	color: black;
	text-align: center;
	font-size: 20px;
	font-weight: bold;

}


.display {

	width: 1200px;
	height: 100px;
	background-color: #CCCCCC;
	border: thin solid #BBBBBB;
	margin-left: 232.5px;
	font-size: 40px;
	padding-top: 50px;

}


.greenDisplay {

	background-color: green;
	border: thin solid black;
	color: white;

}


.redDisplay {

	background-color: red;
	border: thin solid black;
	color: white;

}


.statisticDisplay {

	width: 1200px;
	height: 540px;
	background-color: #CCCCCC;
	border: thin solid #BBBBBB;
	margin-left: 232.5px;
	padding-top: 50px;
	padding-left: 80px;
	text-align: left;
	color: white;

}


header {

	background-color: blue;
	border: 5px solid blue;
	text-align: left;
	padding-left: 2em;
	color: white;

}


a {

	color: blue;

}


textarea {

	background-color: #CCCCCC;
	color: white;
	font-family: "Arial";
	width: 1199px;
	height: 400px;

}


.circleIcon {

	 width: 75px;
	 height: 75px;
	 border-radius: 75px;
	 margin-right: 50px;
	 border: 0px solid white;

}


#practisingProgress {

	margin-top: 100px;
	background-color: #CCCCCC;
	border: 20px solid #CCCCCC;

}


#console {

	width: 1680px;
	height: 1000px;
	bottom: 0;
  	left: 0;
	position: fixed;
	height: 1000px;
	background-color: #CCCCCC;
	opacity: 90%;

}


.logLine {

	background-color: #CCCCCC;
	color: white;
	text-align: left;
	position: fixed;
	bottom: 10em;
	left: 2%;
	width: 96%;
	height: 30px;
	font-size: 16px;
	font-family: "Arial";
	font-weight: bold;

}


#sidebar {

	width: 365px;
	height: 1000px;
	background-color: #F9F9F9;
	color: black;
	position: fixed;
	left: 1315px;
	top: 0px;

}


.sidebarIndex {

	border: thin solid #CCCCCC;
	color: #CCCCCC;
	text-align: center;
}</style>
	<style>body {

    background-color: #444444;
    font-family: "Arial";
    text-align: center;
    color: white;
    width: 1665px;

}


.popupWindow {

	width: 1400px;
	height: 700px;
	position: fixed;
	top: 100px;
	left: 132.5px;
	background-color: #222222;
	opacity: 95%;

}




input, select, button {

	width: 500px;
	height: 30px;
	background-color: white;
	color: black;
	border: 0px solid #444444;
	font-family: "Arial";
	padding-left: 5px;

}


button {

	background-color: blue;
	color: white;

}


.hidden {

	visibility: hidden;
	display: none;

}


.overviewTable {

	background-color: red;
	color: white;
	text-align: left;
	border: thin solid red;
	margin-left: 82.5px;
	width: 1500px;

}


.overviewTableIndex {

	background-color: white;
	color: black;
	text-align: left;
	border: thin solid #CCCCCC;
	padding-left: 1em;

}


td {

	width: 750px;
	border: thin solid black;
	height: 50px;
	background-color: white;
	color: black;
	text-align: center;
	font-size: 20px;
	font-weight: bold;

}


.display {

	width: 1200px;
	height: 100px;
	background-color: #333333;
	border: thin solid #222222;
	margin-left: 232.5px;
	font-size: 40px;
	padding-top: 50px;

}


.greenDisplay {

	background-color: green;
	border: thin solid white;
	color: white;

}


.redDisplay {

	background-color: red;
	border: thin solid white;
	color: white;

}


.statisticDisplay {

	width: 1200px;
	height: 540px;
	background-color: #333333;
	border: thin solid #222222;
	margin-left: 232.5px;
	padding-top: 50px;
	padding-left: 80px;
	text-align: left;

}


header {

	background-color: red;
	border: 5px solid red;
	text-align: left;
	padding-left: 2em;

}


a {

	color: blue;

}


textarea {

	background-color: #444444;
	color: white;
	font-family: "Arial";
	width: 1199px;
	height: 400px;

}


.circleIcon {

	 width: 75px;
	 height: 75px;
	 border-radius: 75px;
	 margin-right: 50px;

}


#practisingProgress {

	margin-top: 100px;
	background-color: #222222;
	border: 20px solid #222222;

}


#console {

	width: 1680px;
	height: 1000px;
	bottom: 0;
  	left: 0;
	position: fixed;
	height: 1000px;
	background-color: #222222;
	opacity: 90%;

}


.logLine {

	background-color: #222222;
	color: white;
	text-align: left;
	position: fixed;
	bottom: 10em;
	left: 2%;
	width: 96%;
	height: 30px;
	font-size: 16px;
	font-family: "Arial";
	font-weight: bold;

}


#sidebar {

	width: 365px;
	height: 1000px;
	background-color: #F9F9F9;
	color: black;
	position: fixed;
	left: 1315px;
	top: 0px;

}


.sidebarIndex {

	border: thin solid #CCCCCC;
	color: #CCCCCC;
	text-align: center;
}</style>
	<title>Vocabulary Companion</title>
	<link rel="icon" href="https://github.com/mattes2008/VocabularyCompanion/blob/master/storage/favicon.png?raw=true">



</head>

<body onload="bodyOnLoad()">

<header>
	<h1>Vocabulary Companion</h1>
</header>

<br/>
<br/>
<div style="text-align: right;">
	<button class="circleIcon" onclick="showSidebar()" style="background-image: url('https://github.com/mattes2008/VocabularyCompanion/blob/master/storage/menuIcon.png');" id="accountIconMain"></button>
</div>

<br/>

<div id="login">

	<div id="acceptLocalStorage" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Local Storage</h1>

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<h2>This webpage uses local storage to save your data.<br/>If you disagreed, the program wouldn't be able to continue, because<br/>your vocabulary, statistics and settings wouldn't be saved.<br/>Do you agree?</h2>

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<button onclick="acceptLocalStorage()" style="background-color: green;">Agree</button>

		<br/>
		<br/>

		<button onclick="window.close()" style="background-color: red;">Disagree</button>

	</div>
	<div id="createAccount" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Register...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="loginCreateAccountUsername" placeholder="Username">

		<br/>
		<br/>

		<input id="loginCreateAccountPassword" type="password" placeholder="Password">

		<br/>
		<br/>

		<input id="loginCreateAccountRepeatPassword" type="password" placeholder="Repeat password...">

		<p style="color: red;">ATTENTION: Your password isn't encrypted perfectly.<br/>Please remember to use a safe and different<br/>password for each and every service, that you use.</p>

		<br/>
		<br/>
		<br/>
		<br/>

		<button style="background-color: green;" onclick="signUp(document.getElementById('loginCreateAccountUsername').value, document.getElementById('loginCreateAccountPassword').value, document.getElementById('loginCreateAccountRepeatPassword').value)">Create</button>

		<br/>
		<br/>

		<button onclick="cancelSignUp()" style="background-color: red;">Cancel</button>

	</div>
	<div id="userImport" class="popupWindow hidden">

		<br/>

		<h1 style="text-decoration: underline;">Import unit...</h1>

		<br/>

		<input id="userImportName" placeholder="Username">

		<br/>
		<br/>

		<textarea id="userImportText"></textarea>

		<br/>
		<br/>

		<button onclick="importUser()" style="background-color: green;">Import</button>

		<br/>
		<br/>

		<button onclick="document.getElementById('userImport').classList.add('hidden');" style="background-color: red;">Cancel</button>

	</div>

	<img id="title_image" src="https://github.com/mattes2008/VocabularyCompanion/blob/master/storage/vocabularyCompanionRendering.png">

	<br/>

	<input id="loginUsername" placeholder="Username">

	<br/>
	<br/>

	<input id="loginPassword" type="password" placeholder="Password">


	<br/>
	<br/>
	<br/>
	<br/>

	<button onclick="signIn(document.getElementById('loginUsername').value, document.getElementById('loginPassword').value)">Log in...</button>

	<br/>
	<br/>

	<button style="background-color: green;" onclick="document.getElementById('createAccount').classList.remove('hidden'); document.getElementById('loginCreateAccountUsername').value = ''; document.getElementById('loginCreateAccountPassword').value = ''; document.getElementById('loginCreateAccountRepeatPassword').value = '';">Register...</button>

	<br/>
	<br/>

	<button onclick="document.getElementById('userImport').classList.remove('hidden'); document.getElementById('userImportText').value = ''; document.getElementById('userImportName').value = ''" style="background-color: green;">Import User...</button>

	<br/>
	<br/>

	<input style="width: auto; height: auto; margin-left: 325px;" type="checkbox" id="remainSignedIn">
	&nbsp;&nbsp;&nbsp;Remain signed in

</div>

<div class="hidden" id="main">

	<br/>
	<br/>

	<div id="overviewTable"></div>

	<br/>
	<br/>
	<br/>
	<br/>

	<button onclick="document.getElementById('readUnitImport').classList.remove('hidden'); document.getElementById('importText').value = ''" style="background-color: green;">Import Unit</button>

	<div id="mainCreateUnit" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Create unit...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="mainCreateUnitTitle" placeholder="Name">

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="mainCreateUnitLanguage1" placeholder="Source Language">

		<br/>
		<br/>

		<input id="mainCreateUnitLanguage2" placeholder="Target Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<button style="background-color: green;" onclick="createUnit(document.getElementById('mainCreateUnitTitle').value, document.getElementById('mainCreateUnitLanguage1').value, document.getElementById('mainCreateUnitLanguage2').value)">Create</button>

		<br/>
		<br/>

		<button style="background-color: red;" onclick="cancelCreateUnit()">Cancel</button>

	</div>
	<div id="readUnitImport" class="popupWindow hidden">

		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Import unit...</h1>

		<br/>
		<br/>

		<textarea id="importText"></textarea>

		<br/>
		<br/>

		<button onclick="importUnit()" style="background-color: green;">Import</button>

		<br/>
		<br/>

		<button onclick="document.getElementById('readUnitImport').classList.add('hidden');" style="background-color: red;">Cancel</button>

	</div>


</div>

<div id="unitDisplay" class="hidden">

	<input id="unitDisplayTitle" placeholder="Title" onchange="data.userData[data.activeUser].vocabUnits[data.activeUnit].title = this.value; localStorage.setItem('vocabularyCoach_userData', JSON.stringify(data.userData));">

	<br/>
	<br/>
	<br/>

	<input id="unitDisplaySource" placeholder="Source Language" onchange="data.userData[data.activeUser].vocabUnits[data.activeUnit].sourceLanguage = this.value; localStorage.setItem('vocabularyCoach_userData', JSON.stringify(data.userData));">

	<br/>
	<br/>

	<input id="unitDisplayTarget" placeholder="Target Language" onchange="data.userData[data.activeUser].vocabUnits[data.activeUnit].targetLanguage = this.value; localStorage.setItem('vocabularyCoach_userData', JSON.stringify(data.userData));">

	<br/>
	<br/>
	<br/>
	<br/>

	<button style="background-color: green;" onclick="document.getElementById('readUnitCreateVocabSource').value = ''; document.getElementById('readUnitCreateVocabTarget').value = ''; document.getElementById('readUnitCreateVocab').classList.remove('hidden');">Create Vocab</button>

	<br/>
	<br/>
	<br/>
	<br/>

	<div id="unitDisplayVocabTable"></div>


	<br/>
	<br/>
	<br/>
	<br/>

	<button onclick="document.getElementById('startPractisingOption1').innerHTML = data.userData[data.activeUser].vocabUnits[data.activeUnit].sourceLanguage + ' ' + '&rarr;' + ' ' + data.userData[data.activeUser].vocabUnits[data.activeUnit].targetLanguage; document.getElementById('startPractisingOption2').innerHTML = data.userData[data.activeUser].vocabUnits[data.activeUnit].targetLanguage + ' ' + '&rarr;' + ' ' + data.userData[data.activeUser].vocabUnits[data.activeUnit].sourceLanguage; document.getElementById('startPractising').classList.remove('hidden');">Practise Unit</button>

	<br/>
	<br/>

	<button onclick="exportUnit()">Export</button>

	<br/>
	<br/>

	<button onclick="deleteUnit()" style="background-color: red;">Delete Unit</button>

	<br/>
	<br/>

	<button onclick="cancelReadUnit()">Save</button>

	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
	<br/>
	<br/>

	<div class="statisticDisplay">

		<h1 style="text-decoration: underline; color: white;">Unit statistics:</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: green;" id="unitStatisticPercentDisplay"></h2>

		<br/>
		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: red;" id="unitStatisticTriesDisplay"></h2>

		<br/>
		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: yellow;" id="unitStatisticPerfectTriesDisplay"></h2>

	</div>

	<div id="readUnitCreateVocab" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Create vocabulary...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="readUnitCreateVocabSource" placeholder="Source Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="readUnitCreateVocabTarget" placeholder="Target Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<button style="background-color: green;" onclick="createVocab()">Create</button>

		<br/>
		<br/>

		<button onclick="cancelCreateVocab()" style="background-color: red;">Cancel</button>

	</div>
	<div id="readUnitExport" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Create vocabulary...</h1>

		<br/>
		<br/>

		<textarea id="exportText"></textarea>

		<br/>
		<br/>
		<br/>
		<br/>

		<button onclick="cancelExportUnit()" style="background-color: red;">Cancel</button>

	</div>
	<div id="readUnitEditVocab" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Edit vocabulary...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="readUnitEditVocabSource" placeholder="Source Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="readUnitEditVocabTarget" placeholder="Target Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<button onclick="editVocab()">Update</button>

		<br/>
		<br/>

		<button onclick="editVocabDelete()" style="background-color: red;">Delete</button>

		<br/>
		<br/>
		<br/>

		<button onclick="cancelEditVocab()" style="background-color: red;">Cancel</button>

	</div>
	<div id="startPractising" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Start practising...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<input onchange="document.getElementById('startPractisingTarToSrc').checked = false; this.checked = true;" id="startPractisingSrcToTar" type="checkbox">

		<h2 id="startPractisingOption1"></h2>

		<br/>
		<br/>
		<br/>

		<input onchange="document.getElementById('startPractisingSrcToTar').checked = false; this.checked = true;" id="startPractisingTarToSrc" type="checkbox">

		<h2 id="startPractisingOption2"></h2>

		<br/>
		<br/>
		<br/>
		<br/>

		<button onclick="startPractising()" style="background-color: green;">Start</button>

		<br/>
		<br/>
		<br/>

		<button onclick="cancelPractising()" style="background-color: red;">Cancel</button>

	</div>

</div>

<div id="practise" class="hidden">

	<h2 id="practiseSourceVocab"></h2>

	<input placeholder="Answer" id="practiseInput">

	<br/>
	<br/>
	<br/>
	<br/>

	<div style="color: white;" class="display" id="practiseOutput">Type in your answer!</div>

	<br/>
	<br/>
	<br/>
	<br/>

	<button id="practisingConfirm" style="background-color: green;" onclick="practisingConfirm()">Confirm</button>

	<br/>
	<br/>
	<br/>

	<button onclick="nextTask()">Next Task</button>

	<br/>
	<br/>
	<br/>
	<br/>
	<br/>

	<button onclick="stopPractising()" style="background-color: red;">Cancel</button>

	<br/>
	<br/>

	<h2 style="color: white;" id="practisingProgress"></h2>

	<div id="practisingResult" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>

		<input onchange="this.value = data.practising.roundedPercent" style="background-color: red;" id="percentRangeDisplay" min="0" max="100" type="range" readonly>

		<br/>
		<br/>

		<h2 style="font-size: 96px;" id="percentDisplay"></h2>

		<br/>
		<br/>

		<h1 style="color: yellow;" id="starDisplay"></h1>
		<h1 style="color: red;" id="6thStarDisplay"></h1>

		<br/>

		<button onclick="stopPractising()">Save</button>

	</div>

</div>

<div class="hidden" id="accountSettings">

	<input onchange="accountSettingsRenameUser()" id="accountSettingsRenameUser" placeholder="Username">

	<br/>
	<br/>
	<br/>

	<button onclick="openChangePassword()">Change Password</button>

	<br/>
	<br/>
	<br/>

	<select id="styleSelect" style="background-color: #CCCCCC;">
		<option value="dark">Dark</option>
		<option value="light">Light</option>
	</select>

	<br/>
	<br/>
	<br/>

	<button onclick="logOut()">Log out...</button>

	<br/>
	<br/>
	<br/>
	<br/>

	<button style="background-color: red;" onclick="document.getElementById('main').classList.remove('hidden'); document.getElementById('accountSettings').classList.add('hidden');">Back</button>

	<br/>
	<br/>
	<br/>
	<br/>

	<div class="statisticDisplay">

		<h1 style="text-decoration: underline; color: white;">User statistics:</h1>

		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: yellow;" id="userStatisticTotalStarsDisplay"></h2>

		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: blue;" id="userStatisticPercentDisplay"></h2>

		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: red;" id="userStatisticTriesDisplay"></h2>

		<br/>
		<br/>

		<h2 style="margin-left: 60px; color: green;" id="userStatisticPerfectTriesDisplay"></h2>

	</div>

	<br/>
	<br/>
	<br/>

	<button onclick="exportUser()">Export User</button>

	<br/>
	<br/>

	<button style="background-color: red;" onclick="document.getElementById('deleteUser').classList.remove('hidden'); document.getElementById('deleteUserPasswordInput').value = ''; document.getElementById('deleteUserRepeatPasswordInput').value = '';">Delete User</button>

	<div id="userExport" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Create vocabulary...</h1>

		<br/>
		<br/>

		<textarea id="exportUserText"></textarea>

		<br/>
		<br/>
		<br/>
		<br/>

		<button onclick="document.getElementById('userExport').classList.add('hidden');" style="background-color: red;">Cancel</button>

	</div>
	<div id="accountSettingsChangePassword" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Change password...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="changePasswordOld" type="password" placeholder="Name">

		<br/>
		<br/>

		<input id="changePasswordRepeatOld" type="password" placeholder="Source Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<input id="changePasswordNew" type="password" placeholder="Target Language">

		<br/>
		<br/>
		<br/>
		<br/>

		<button onclick="accountSettingsChangePassword()">Change</button>

		<br/>
		<br/>

		<button style="background-color: red;" onclick="document.getElementById('accountSettingsChangePassword').classList.add('hidden')">Cancel</button>

	</div>
	<div id="deleteUser" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Delete user...</h1>

		<br/>
		<br/>
		<br/>
		<br/>

		<h2 style="color: red;">Are you sure, that you want to delete this user?</h2>

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<input placeholder="Password" id="deleteUserPasswordInput" type="password">

		<br/>
		<br/>

		<input placeholder="Repeat Password..." id="deleteUserRepeatPasswordInput" type="password">

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<button style="background-color: red;" onclick="deleteUser()">Delete</button>

		<br/>
		<br/>

		<button onclick="document.getElementById('deleteUser').classList.add('hidden');">Cancel</button>

	</div>

</div>

<div id="console" class="hidden">

	<div class="logLine" id="logLine8" style="bottom: 50em;"></div>
	<div class="logLine" id="logLine7" style="bottom: 45em;"></div>
	<div class="logLine" id="logLine6" style="bottom: 40em;"></div>
	<div class="logLine" id="logLine5" style="bottom: 35em;"></div>
	<div class="logLine" id="logLine4" style="bottom: 30em;"></div>
	<div class="logLine" id="logLine3" style="bottom: 25em;"></div>
	<div class="logLine" id="logLine2" style="bottom: 20em;"></div>
	<div class="logLine" id="logLine1" style="bottom: 15em;"></div>
	<div class="logLine" id="logLine0" style="bottom: 10em;"></div>

	<input placeholder="Input" id="consoleCommandLine" style="color: black; background-color: white; position: fixed; bottom: 2em; left: 2%; width: 96%; padding-left: 1em;" onkeyup="consoleSend(event)">

</div>

<div id="sidebar" class="hidden">

	<div style="text-align: center;">
		<button class="circleIcon" onclick="openAccountSettings(); document.getElementById('sidebar').classList.add('hidden');" style="background-image: url('https://github.com/mattes2008/VocabularyCompanion/blob/master/storage/accountIcon75x75.png'); margin: 50px 0px 50px 0px;" id="accountIconSidebar"></button>
		<div style="color: green;" onclick="document.getElementById('sidebar').classList.add('hidden'); document.getElementById('console').classList.remove('hidden'); reloadConsole();" class="sidebarIndex">
			<h2>&gt;_&nbsp;&nbsp;&nbsp;Console</h2>
		</div>
		<div style="color: blue;" onclick="document.getElementById('sidebar').classList.add('hidden'); reloadPluginTable();" class="sidebarIndex">
			<h2>&rarr;]&nbsp;&nbsp;&nbsp;Plugins</h2>
		</div>
		<div style="color: red;" onclick="document.getElementById('sidebar').classList.add('hidden')" class="sidebarIndex">
		<h2>&times;&nbsp;&nbsp;&nbsp;Back</h2>
		</div>
		<div id="sidebarLogOut" style="margin-top: 50px; color: blue;" onclick="document.getElementById('sidebar').classList.add('hidden'); logOut();" class="sidebarIndex">
			<h2>[&rarr;&nbsp;&nbsp;&nbsp;Log Out...</h2>
		</div>
		<p style="text-align: right; margin-right: 2em; color: #AAAAAA;" id="sidebarDate">Ver. 1.0</p>
	</div>

</div>

<div id="pluginMenu" class="hidden">

	<br/>
	<br/>

	<div id="pluginOverviewTable"></div>

	<br/>
	<br/>
	<br/>
	<br/>

	<button style="background-color: red;" onclick="document.getElementById('removePlugin').classList.remove('hidden'); document.getElementById('removePluginSrc').value = '';">Remove</button>

	<br/>
	<br/>

	<button onclick="closePluginMenu()">Back</button>

	<div id="addPlugin" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Add Plugin...</h1>

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<input id="addPluginSrc" placeholder="Src">

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<button style="background-color: green;" onclick="document.getElementById('addPlugin').classList.add('hidden'); plugin.add(document.getElementById('addPluginSrc').value); reloadPluginTable()">Add</button>

		<br/>
		<br/>

		<button onclick="document.getElementById('addPlugin').classList.add('hidden')" style="background-color: red;">Cancel</button>

	</div>
	<div id="removePlugin" class="popupWindow hidden">

		<br/>
		<br/>
		<br/>
		<br/>

		<h1 style="text-decoration: underline;">Remove Plugin...</h1>

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<input id="removePluginSrc" placeholder="Src">

		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>
		<br/>

		<button style="background-color: red;" onclick="document.getElementById('removePlugin').classList.add('hidden'); plugin.remove(document.getElementById('removePluginSrc').value); reloadPluginTable()">Remove</button>

		<br/>
		<br/>

		<button onclick="document.getElementById('removePlugin').classList.add('hidden')" style="background-color: blue;">Cancel</button>

	</div>

</div>

<br/>
<br/>
<br/>
<br/>
<br/>
<br/>
<div style="text-align: right; margin-right: 2em;">
	<p id="clock">00:00</p>
</div>
<hr/>
<br/>
<p style="text-decoration: underline;">Made by:</p>
<a title="GitHub" href="https://www.github.com/mattes2008">mattes2008</a>
<br/>
<br/>
<hr/>
<br/>
<br/>
<br/>

</body>

</html>